{"mappings":"AAUe,SAAAA,EAAcC,EAAGC,EAAGC,GACjC,OAAQ,EAAIA,GAAKF,EAAIE,EAAID,ECNX,SAAAE,EAAkBC,EAAKC,GAIrCD,EAAMA,EAAIE,QAAQ,IAAK,IACvB,MAAMC,EAAIC,SACM,GAAdJ,EAAIK,OAAcL,EAAIM,MAAM,EAAG,GAAGC,OAAO,GAAKP,EAAIM,MAAM,EAAG,GAC3D,IAEIE,EAAIJ,SACM,GAAdJ,EAAIK,OAAcL,EAAIM,MAAM,EAAG,GAAGC,OAAO,GAAKP,EAAIM,MAAM,EAAG,GAC3D,IAEIT,EAAIO,SACM,GAAdJ,EAAIK,OAAcL,EAAIM,MAAM,EAAG,GAAGC,OAAO,GAAKP,EAAIM,MAAM,EAAG,GAC3D,IAEF,OAAc,IAAVL,EACK,QAAQE,MAAMK,MAAMX,QAEzBI,EACK,QAAQE,MAAMK,MAAMX,MAAMI,KAE5B,OAAOE,MAAMK,MAAMX,KC5Bb,SAAAY,EAAoBC,EAAOC,GACzC,IAAIC,EAAOC,SAASC,cAAcJ,GAClC,IAAK,IAAIK,KAAYJ,EAClBC,EAAKI,MAAMD,GAAYJ,EAAeI,GCK1C,MAAME,EAAiB,CACrBC,oBAAqB,gBACrBC,oBAAqB,gBACrBC,mBAAmB,EACnBC,kBAAkB,EAClBC,MAAO,UACPC,WAAY,GACZC,gBAAiB,EACjBC,KAAM,CACJC,MAAO,EACPC,MAAO,IAETC,WAAY,CACVF,MAAO,IACPC,MAAO,KAETE,WAAY,CACVH,MAAO,IACPC,MAAO,KAETG,cAAe,GACfC,WAAY,CACV,IACA,qBACA,sBACA,uBACA,uBACA,sBACA,aACA,SACA,WACA,SACA,UAaJ,SAASC,EAAeC,GAEtB,IAAIC,EAAOC,OAAOC,OAAO,GAAInB,EAAgBgB,GAEzCI,EAAW,CACbC,YAAazB,SAASC,cAAcoB,EAAKhB,qBACzCqB,YAAa1B,SAASC,cAAcoB,EAAKf,qBACzCC,kBAAmBc,EAAKd,kBACxBoB,UAAW,CAAEC,EAAG,GAAKC,EAAG,IACxBC,UAAW,CAAEF,EAAG,GAAKC,EAAG,IACxBE,KAAMC,OAAOC,WAAa,EAC1BC,KAAMF,OAAOG,YAAc,EAC3BC,IAAKC,sBAAsBC,GAC3BC,eAAe,EACfC,UAAU,EACVC,YAAY,GAoEd,SAASC,EAAYC,GAgBrB,IAA4Bd,EAAGD,EAf7BJ,EAASoB,WAAY,EACrBC,IAEArB,EAASG,UAAUC,EAAIe,EAAEG,QACzBtB,EAASG,UAAUE,EAAIc,EAAEI,QAWClB,EAVPc,EAAEI,QAUQnB,EAVCe,EAAEG,QAWhCtB,EAASC,YAAYtB,MAAM6C,IAAM,GAAGnB,MACpCL,EAASC,YAAYtB,MAAM8C,KAAO,GAAGrB,MAVhCJ,EAASY,MAAKZ,EAASY,IAAMC,sBAAsBC,IAkB1D,SAASA,IAEPd,EAASM,UAAUF,EAAI9C,EACrB0C,EAASM,UAAUF,EACnBJ,EAASG,UAAUC,EACnBP,EAAKJ,eAEPO,EAASM,UAAUD,EAAI/C,EACrB0C,EAASM,UAAUD,EACnBL,EAASG,UAAUE,EACnBR,EAAKJ,eAEPO,EAASE,YAAYvB,MAAM6C,IAAM,GAAGxB,EAASM,UAAUD,MACvDL,EAASE,YAAYvB,MAAM8C,KAAO,GAAGzB,EAASM,UAAUF,MAQxD,GALcsB,KAAKC,KACjBD,KAAKE,IAAI5B,EAASG,UAAUC,EAAIJ,EAASM,UAAUF,EAAG,GACpDsB,KAAKE,IAAI5B,EAASG,UAAUE,EAAIL,EAASM,UAAUD,EAAG,IAG9C,KAGV,OAFAG,OAAOqB,qBAAqB7B,EAASY,UACrCZ,EAASY,IAAM,MAIjBZ,EAASY,IAAMC,sBAAsBC,GAyBvC,SAASO,IACHrB,EAASoB,WACXpB,EAASC,YAAYtB,MAAMmD,QAAU,EACrC9B,EAASE,YAAYvB,MAAMmD,QAAU,IAErC9B,EAASC,YAAYtB,MAAMmD,QAAU,EACrC9B,EAASE,YAAYvB,MAAMmD,QAAU,GA0CzC,SAASC,IACH/B,EAASiB,YACXjB,EAASC,YAAYtB,MAAMqD,UAAY,+BAA+BnC,EAAKL,WAAWH,SACtFW,EAASE,YAAYvB,MAAMqD,UAAY,+BAA+BnC,EAAKL,WAAWF,UAC7EU,EAASgB,UAClBhB,EAASC,YAAYtB,MAAMqD,UAAY,+BAA+BnC,EAAKN,WAAWF,SACtFW,EAASE,YAAYvB,MAAMqD,UAAY,+BAA+BnC,EAAKN,WAAWD,WAEtFU,EAASC,YAAYtB,MAAMqD,UAAY,iCACvChC,EAASE,YAAYvB,MAAMqD,UAAY,kCAyB3C,MAAO,CACLC,KA7NF,WC1EuB,oBAAXzB,SACP,iBAAkBA,QAChBA,OAAO0B,eACc,oBAAb1D,UACPA,oBAAoBgC,OAAO0B,gBACT,oBAAdC,YACPA,UAAUC,gBAAkBD,UAAUE,oBDwFzC7B,OAAO8B,iBAAiB,YAAapB,GAErC1C,SACG+D,iBAAiB1C,EAAKH,WAAW8C,KAAK,MACtCC,SAASC,GAiGd,SAA0BA,GACxBA,EAAG/D,MAAMgE,OAAS,OAElBD,EAAGJ,iBAAiB,aAAa,KAC/BtC,EAASgB,UAAW,EACpBe,OAGFW,EAAGJ,iBAAiB,YAAY,KAC9BtC,EAASgB,UAAW,EACpBe,OA3GiBa,CAAiBF,KAEpClE,SAAS8D,iBAAiB,aAAa,KACrCtC,EAASiB,YAAa,EACtBc,OAGFvD,SAAS8D,iBAAiB,WAAW,KACnCtC,EAASgB,UAAW,EACpBhB,EAASiB,YAAa,EACtBc,OAGFvD,SAAS8D,iBAAiB,cAAenB,IE5G7B,IAA2B0B,IAAAA,EF6Gf1B,GE3GlBI,SAAW,GACjBsB,EAAMvB,SAAW,GACjBuB,EAAMvB,SAAWd,OAAOC,YACxBoC,EAAMtB,SAAWf,OAAOG,eFyGpBX,EAASoB,WAAY,EACrBC,QAUJrB,EAASoB,WAAY,EACrBC,IAuJF,WACE,MAAMyB,EAAapF,EAASmC,EAAKZ,OAC3B8D,EAAarF,EAASmC,EAAKZ,MAAOY,EAAKX,YAC7Cc,EAASC,YAAYtB,MAAMqE,YAAY,mBAAoBF,GAC3D9C,EAASE,YAAYvB,MAAMqE,YAAY,mBAAoBD,GAvM3DE,GA0KAjD,EAASC,YAAYtB,MAAMqE,YAAY,QAAS,GAAGnD,EAAKT,KAAKC,WAC7DW,EAASC,YAAYtB,MAAMqE,YAAY,SAAU,GAAGnD,EAAKT,KAAKC,WAC9DW,EAASE,YAAYvB,MAAMqE,YAAY,QAAS,GAAGnD,EAAKT,KAAKE,WAC7DU,EAASE,YAAYvB,MAAMqE,YAAY,SAAU,GAAGnD,EAAKT,KAAKE,WA3K1DO,EAAKb,mBA+ITR,SAASC,cAAc,QAAQE,MAAMgE,OAAS,OAC9CnE,SAASC,cAAc,QAAQE,MAAMgE,OAAS,QA/I1C9C,EAAKd,mBAqJX,WACE,MAAMmE,EAAS,CACb,iBAAkB,OAClBC,SAAY,QACZ,gBAAiB,MACjBrB,QAAW,EACXE,UAAa,wBACboB,WAAc,0DAEhBhF,EAAUyB,EAAKhB,oBAAqBqE,GACpC9E,EAAUyB,EAAKf,oBAAqBoE,GA/JRG,GACxBxD,EAAKV,gBAAkB,GA2M3Ba,EAASE,YAAYvB,MAAMqE,YACzB,SACA,GAAGnD,EAAKV,2BAA2BU,EAAKZ,YAS9CU,EAAeC,QAAUhB,MG3SzB0E,EH6Se3D,EI1Sf,GAAInB,SAASC,cAAc,WAAY,CACtB6E,IAERrB,OAKT,GAAIzD,SAASC,cAAc,iBAAkB,CAqBvB6E,EApBJ,CACdzE,oBAAqB,sBACrBC,oBAAqB,sBACrBG,MAAO,OACPC,WAAY,GACZC,gBAAiB,EACjBC,KAAM,CACJC,MAAO,EACPC,MAAO,IAETC,WAAY,CACVF,MAAO,GACPC,MAAO,KAETE,WAAY,CACVH,MAAO,IACPC,MAAO,MAMC2C","sources":["src/utils/lerp.js","src/utils/hex-to-rgb.js","src/utils/set-styles.js","src/animated-cursor.js","src/utils/is-touch-device.js","src/utils/has-exited-viewport.js","src/index.js","demo/src/app.js"],"sourcesContent":["// const lerp = (a, b, n) => (1 - n) * a + n * b\n\n/**\n * Linear Interpolation (Lerp) easing util\n * Enables smooth animations between 2 points\n * @param {Number} a - Starting value\n * @param {Number} b - Destimation value\n * @param {Number} n - Normal value to control Linear Interpolation.\n * @returns {Number}\n */\nexport default function lerp(a, b, n) {\n  return (1 - n) * a + n * b\n}\n","/**\n * Has Exited Viewport\n * Detects when cursor has exited viewport\n * @param  {document#event:mouseout} event\n */\n export default function hexToRGB(hex, alpha) {\n  // const r = parseInt(hex.slice(1, 3), 16)\n  // const g = parseInt(hex.slice(3, 5), 16)\n  // const b = parseInt(hex.slice(5, 7), 16)\n  hex = hex.replace('#', '')\n  const r = parseInt(\n    hex.length == 3 ? hex.slice(0, 1).repeat(2) : hex.slice(0, 2),\n    16\n  )\n  const g = parseInt(\n    hex.length == 3 ? hex.slice(1, 2).repeat(2) : hex.slice(2, 4),\n    16\n  )\n  const b = parseInt(\n    hex.length == 3 ? hex.slice(2, 3).repeat(2) : hex.slice(4, 6),\n    16\n  )\n  if (alpha === 0) {\n    return `rgba(${r}, ${g}, ${b}, 0)`\n  }\n  if (alpha) {\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`\n  }\n  return `rgb(${r}, ${g}, ${b})`\n}\n","export default function setStyles( objId, propertyObject ) {\n var elem = document.querySelector(objId);\n for (var property in propertyObject)\n    elem.style[property] = propertyObject[property];\n}","import lerp from './utils/lerp'\nimport hasExitedViewport from './utils/has-exited-viewport'\nimport hexToRGB from './utils/hex-to-rgb'\nimport setStyles from './utils/set-styles'\nimport isTouchDevice from './utils/is-touch-device'\n\n'use strict'\n\nconst defaultOptions = {\n  cursorInnerSelector: '#cursor-inner',\n  cursorOuterSelector: '#cursor-outer',\n  hasRequiredStyles: true,\n  hideNativeCursor: true,\n  color: '#D3245C',\n  outerAlpha: 0.3,\n  outerBorderSize: 0,\n  size: { \n    inner: 8, \n    outer: 40 \n  },\n  hoverScale: {\n    inner: 0.75,\n    outer: 1.5\n  },\n  clickScale: {\n    inner: 1.5,\n    outer: 0.13\n  },\n  trailingSpeed: 0.2,\n  clickables: [\n    'a',\n    'input[type=\"text\"]',\n    'input[type=\"email\"]',\n    'input[type=\"number\"]',\n    'input[type=\"submit\"]',\n    'input[type=\"image\"]',\n    'label[for]',\n    'select',\n    'textarea',\n    'button',\n    '.link'\n  ]\n}\n\n/**\n * Animated Cursor\n * Creates a custom animated cursor consisting of an outer and inner circles/dots.\n * Outer dot has trailing animation effect.\n * Dots scale when hovering on clickables, or clicking.\n *\n * @param {Object} options \n * @returns {Object} - api reveals init method\n */\nfunction AnimatedCursor(options) {\n  // merge defaults with user options\n  let opts = Object.assign({}, defaultOptions, options);\n\n  let settings = {\n    cursorInner: document.querySelector(opts.cursorInnerSelector),\n    cursorOuter: document.querySelector(opts.cursorOuterSelector),\n    hasRequiredStyles: opts.hasRequiredStyles,\n    targetPos: { x: 0.5, y: 0.5 }, // mouse position\n    cursorPos: { x: 0.5, y: 0.5 }, // cursor position\n    endX: window.innerWidth / 2,\n    endY: window.innerHeight / 2,\n    raf: requestAnimationFrame(animateOuterCursor),\n    cursorVisible: true,\n    isScaled: false,\n    isClicking: false\n  }\n  \n  /**\n   * Init \n   * Kicks off all the things\n   * @public\n   */\n  function init() {\n\n    // bail if Touch device\n    if (isTouchDevice()) return\n\n    bindEvents()\n    startCursor()\n    setCursorColor()\n    setCursorSize()\n    if (opts.hideNativeCursor) hideNativeCursor()\n    if (opts.hasRequiredStyles) setCursorStyles()\n    if (opts.outerBorderSize > 0) setOuterBorder()\n  }\n\n  /**\n   * Bind Main Events\n   * Handles primary mouse and click events\n   */\n  function bindEvents() {\n\n    window.addEventListener('mousemove', onMouseMove)\n    \n    document\n      .querySelectorAll(opts.clickables.join(','))\n      .forEach((el) => onClickableHover(el))\n\n    document.addEventListener('mousedown', () => {\n      settings.isClicking = true\n      setScale()\n    })\n\n    document.addEventListener('mouseup', () => {\n      settings.isScaled = false\n      settings.isClicking = false\n      setScale()\n    })\n\n    document.addEventListener('mouseleave', (e) => {\n      if (hasExitedViewport(e)) {\n        settings.isVisible = false\n        toggleVisibility()\n      }\n    })\n  }\n\n  /**\n   * Start Cursor\n   * Begins cursor visibility state\n   */\n  function startCursor() {\n    settings.isVisible = false\n    toggleVisibility()\n  }\n\n  /**\n   * on Mouse Move \n   * Handles the cursor mouse event, sending x,y coords to animation events.\n   * Uses RAF loop for outer/trailing cursor animation.\n   * @param {Event} e - mousemove event \n   */\n  function onMouseMove(e) {\n    settings.isVisible = true\n    toggleVisibility()\n    //get normalized mouse coordinates [0, 1]\n    settings.targetPos.x = e.clientX\n    settings.targetPos.y = e.clientY\n    animateInnerCursor(e.clientY, e.clientX)\n    // trigger loop if no loop is active\n    if (!settings.raf) settings.raf = requestAnimationFrame(animateOuterCursor)\n  }\n\n  /**\n   * Animate Inner Cursor \n   * @param {Number} y - y coords\n   * @param {Number} x - x coords\n   */\n  function animateInnerCursor(y, x) {\n    settings.cursorInner.style.top = `${y}px`\n    settings.cursorInner.style.left = `${x}px`\n  }\n\n  /**\n   * Animate Outer Cursor \n   * Outer cursor trailing animation. Uses lerp\n   * @returns \n   */\n  function animateOuterCursor() {\n    //calculate lerped values\n    settings.cursorPos.x = lerp(\n      settings.cursorPos.x,\n      settings.targetPos.x,\n      opts.trailingSpeed\n    )\n    settings.cursorPos.y = lerp(\n      settings.cursorPos.y,\n      settings.targetPos.y,\n      opts.trailingSpeed\n    )\n    settings.cursorOuter.style.top = `${settings.cursorPos.y}px`\n    settings.cursorOuter.style.left = `${settings.cursorPos.x}px`\n\n    //cancel loop if mouse stops moving\n    const delta = Math.sqrt(\n      Math.pow(settings.targetPos.x - settings.cursorPos.x, 2) +\n        Math.pow(settings.targetPos.y - settings.cursorPos.y, 2)\n    )\n     \n    if (delta < 0.001) {\n      window.cancelAnimationFrame(settings.raf)\n      settings.raf = null\n      return\n    }\n    //or continue looping if mouse is moving\n    settings.raf = requestAnimationFrame(animateOuterCursor)\n  }\n\n  /**\n   * On Clickable Hover \n   * When hovering over a clickable, handle scale animation\n   * @param {HTMLelement} el \n   */\n  function onClickableHover(el) {\n    el.style.cursor = 'none'\n\n    el.addEventListener('mouseover', () => {\n      settings.isScaled = true\n      setScale()\n    })\n\n    el.addEventListener('mouseout', () => {\n      settings.isScaled = false\n      setScale()\n    })\n  }\n\n  /**\n   * Toggle Visibility \n   */\n  function toggleVisibility() {\n    if (settings.isVisible) {\n      settings.cursorInner.style.opacity = 1\n      settings.cursorOuter.style.opacity = 1\n    } else {\n      settings.cursorInner.style.opacity = 0\n      settings.cursorOuter.style.opacity = 0\n    }\n  }\n\n  /**\n   * Hide Native Cursor\n   */\n  function hideNativeCursor() {\n    document.querySelector('body').style.cursor = 'none'\n    document.querySelector('html').style.cursor = 'none'\n  }\n\n  /**\n   * Set Required Cursor Styles\n   */\n  function setCursorStyles() {\n    const styles = {\n      'pointer-events': 'none',\n      'position': 'fixed',\n      'border-radius': '50%',\n      'opacity': 0,\n      'transform': 'translate(-50%, -50%)',\n      'transition': 'opacity 0.25s ease-in-out, transform 0.25s ease-in-out'\n    }\n    setStyles(opts.cursorInnerSelector, styles);\n    setStyles(opts.cursorOuterSelector, styles);\n  }\n\n\n  /**\n   * Set Cursor Sizes\n   */\n  function setCursorSize() {\n    settings.cursorInner.style.setProperty('width', `${opts.size.inner}px`)\n    settings.cursorInner.style.setProperty('height', `${opts.size.inner}px`)\n    settings.cursorOuter.style.setProperty('width', `${opts.size.outer}px`)\n    settings.cursorOuter.style.setProperty('height', `${opts.size.outer}px`)\n  }\n\n  /**\n   * Set Scale Effect\n   */\n  function setScale() {\n    if (settings.isClicking) {\n      settings.cursorInner.style.transform = `translate(-50%, -50%) scale(${opts.clickScale.inner})`\n      settings.cursorOuter.style.transform = `translate(-50%, -50%) scale(${opts.clickScale.outer})`\n    } else if (settings.isScaled) {\n      settings.cursorInner.style.transform = `translate(-50%, -50%) scale(${opts.hoverScale.inner})`\n      settings.cursorOuter.style.transform = `translate(-50%, -50%) scale(${opts.hoverScale.outer})`\n    } else {\n      settings.cursorInner.style.transform = 'translate(-50%, -50%) scale(1)'\n      settings.cursorOuter.style.transform = 'translate(-50%, -50%) scale(1)'\n    }\n  }\n\n  /**\n   * Set Cursor Color\n   */\n  function setCursorColor() {\n    const colorInner = hexToRGB(opts.color)\n    const colorOuter = hexToRGB(opts.color, opts.outerAlpha)\n    settings.cursorInner.style.setProperty('background-color', colorInner)\n    settings.cursorOuter.style.setProperty('background-color', colorOuter)\n  }\n\n  /**\n   * Set Outer Cursor Border \n   * Creates a donut cursor if outerAlpha is also 0\n   */\n  function setOuterBorder() {\n    settings.cursorOuter.style.setProperty(\n      'border', \n      `${opts.outerBorderSize}px solid ${opts.color}`\n    )\n  }\n\n  return {\n    init: init\n  }\n}\n\nAnimatedCursor.options = defaultOptions;\n\nexport default AnimatedCursor;\n","export default function isTouchDevice() {\n  return (\n    !!(typeof window !== 'undefined' &&\n      ('ontouchstart' in window ||\n        (window.DocumentTouch &&\n          typeof document !== 'undefined' &&\n          document instanceof window.DocumentTouch))) ||\n    !!(typeof navigator !== 'undefined' &&\n      (navigator.maxTouchPoints || navigator.msMaxTouchPoints))\n  );\n}","/**\n * Has Exited Viewport\n * Detects when cursor has exited viewport\n * @param  {document#event:mouseout} event\n */\n export default function hasExitedViewport(event) {\n  return (\n    event.clientY <= 0 ||\n    event.clientX <= 0 ||\n    event.clientX >= window.innerWidth ||\n    event.clientY >= window.innerHeight\n  )\n}\n","import AnimatedCursor from './animated-cursor.js'\n\nexport default AnimatedCursor\n","'use strict'\n\nimport AnimatedCursor from '../../src'\n\n// Default Cursor\nif (document.querySelector('#cursor')) {\n  const cursor = AnimatedCursor()\n\n  cursor.init()\n}\n\n\n// Donut Cursor\nif (document.querySelector('#cursor-donut')) {\n  let donutOpts = {\n    cursorInnerSelector: '#donut-cursor-inner',\n    cursorOuterSelector: '#donut-cursor-outer',\n    color: '#0ff',\n    outerAlpha: 0.1,\n    outerBorderSize: 3,\n    size: { \n      inner: 8, \n      outer: 38 \n    },\n    hoverScale: {\n      inner: 0.5,\n      outer: 1.4\n    },\n    clickScale: {\n      inner: 1.4,\n      outer: 0.1\n    }\n  }\n  \n  const donutCursor = AnimatedCursor(donutOpts)\n  \n  donutCursor.init()\n}\n\n"],"names":["$38d4255a99abc57c$export$2e2bcd8739ae039","a","b","n","$aed59c2606a07e08$export$2e2bcd8739ae039","hex","alpha","replace","r","parseInt","length","slice","repeat","g","$c7c88c599910aa95$export$2e2bcd8739ae039","objId","propertyObject","elem","document","querySelector","property","style","$3f71a8039393e5ef$var$defaultOptions","cursorInnerSelector","cursorOuterSelector","hasRequiredStyles","hideNativeCursor","color","outerAlpha","outerBorderSize","size","inner","outer","hoverScale","clickScale","trailingSpeed","clickables","$3f71a8039393e5ef$var$AnimatedCursor","options","opts","Object","assign","settings","cursorInner","cursorOuter","targetPos","x","y","cursorPos","endX","window","innerWidth","endY","innerHeight","raf","requestAnimationFrame","animateOuterCursor","cursorVisible","isScaled","isClicking","onMouseMove","e","isVisible","toggleVisibility","clientX","clientY","top","left","Math","sqrt","pow","cancelAnimationFrame","opacity","setScale","transform","init","DocumentTouch","navigator","maxTouchPoints","msMaxTouchPoints","addEventListener","querySelectorAll","join","forEach","el","cursor","onClickableHover","event","colorInner","colorOuter","setProperty","setCursorColor","styles","position","transition","setCursorStyles","$35da740d59af89ba$export$2e2bcd8739ae039"],"version":3,"file":"index.6b382a32.js.map"}